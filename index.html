<html> 
<head> 
<title>My first Three.js app</title> 
<style> body { margin: 0; } canvas { width: 100%; height: 100% } </style> 
</head> 

<body> 

<script src="js/three.min.js"></script> 
<script src="js/TrackballControls.js"></script>
<script src="js/Detector.js"></script>
<script src="js/stats.min.js"></script>

<script>

    // --allow-file-access-from-files should be added when starting chrome
    // so local files can be loaded. This is because of security restrictions

    var renderer, camera, controls, scene, pointLight, sphere;

    init();
    mainLoop();

    function init()
    {
        //renderer
        renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        //camera
        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000);
        camera.position.z = 1;

        //control over the mouse
        controls = new THREE.TrackballControls(camera);
        controls.addEventListener('change', render);
        controls.minDistance = 1.5;
        controls.maxDistance = 14;
        controls.zoomSpeed = 0.7;

        //scene
        scene = new THREE.Scene();

        var geometry = new THREE.SphereGeometry(0.5, 100, 100);

        var material = new THREE.MeshPhongMaterial({
            map: THREE.ImageUtils.loadTexture('textures/2_no_clouds_4k.jpg'),
            bumpMap: THREE.ImageUtils.loadTexture('textures/elev_bump_4k.jpg'),
            bumpScale: 0.005,
            specularMap: THREE.ImageUtils.loadTexture('textures/water_4k.png'),
            specular: new THREE.Color('grey')
        });

        sphere = new THREE.Mesh(geometry, material);
        sphere.overdraw = true;
        scene.add(sphere);

        //var sky = new THREE.Mesh(new THREE.SphereGeometry(90, 64, 64),
        //                         new THREE.MeshBasicMaterial({
        //                            map: THREE.ImageUtils.loadTexture('textures/galaxy_starfield.png'),
        //                            side: THREE.BackSide
        //                         }));
        //scene.add(sky);


        scene.add(new THREE.AmbientLight(0xffffff));

        var light = new THREE.DirectionalLight(0xffffff, 0.2);
        light.position.set(50, 0, 50);
        scene.add(light);
    }

    function mainLoop() 
    { 
        requestAnimationFrame(mainLoop);
        update();
        render();
    }

    function update()
    {
        controls.update();
        sphere.rotation.y += 0.0005;
    }

    function render()
    {
        renderer.render(scene, camera);
    }

 </script> 

</body> 

</html>